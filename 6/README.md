
## 1. Benchmarking for `do_something`

please see the files and codes in [`pallet/template`](https://github.com/Kailai-Wang/substrate-node-template/tree/substrate_course2/pallets/template/src)

or this commit:
https://github.com/Kailai-Wang/substrate-node-template/commit/62ff62774e74afb218703871ea2bb9f41e4373f7

`weights.rs` is generated by:
```
./target/release/node-template benchmark --chain dev --execution=wasm --wasm-execution=compiled --pallet pallet_template --extrinsic do_something --steps 50 --repeat 20 --output pallets/template/src/weights.rs
```

The WeightInfo for `do_something` is then adjusted by:
```
#[pallet::weight(T::WeightInfo::do_something(*something))]
```

runtime bounding is also implemented.

## 2. generation of chain spec

please check the generated [chain specs here](https://github.com/Kailai-Wang/substrate-node-template/tree/substrate_course2/node/res)

or this commit:
https://github.com/Kailai-Wang/substrate-node-template/commit/80a92ba7a37948697451688a321a270775d043bb

The chain specs were generated using:
```
./target/release/node-template build-spec --disable-default-bootnode --chain homework > node/res/homework_spec.json
./target/release/node-template build-spec --disable-default-bootnode --chain=./node/res/homework_spec.json --raw > node/res/homework_spec_raw.json
```

## 3. deployment of node network

Due to the fact that polkadot-js requires SSL, deploying the nodes on a plain cloud-instance would require SSL-setup, or using ssh tunnel to forward ports, e.g.
`ssh -L 9944:localhost:9944 user@remote-host`, which is OK for local test but would need ssh access for public.

Hence for demo purpose a local deployment with 2 nodes is demonstrated here, the procedures are:
- run [`start_nodes.sh`](https://github.com/Kailai-Wang/substrate-node-template/blob/substrate_course2/start_nodes.sh)
- note that nodes are started but no blocks are produced or finalized
- insert AURA and GRANDPA keys for both nodes via RPC
- restart the nodes
- note the blocks are authored and finalized successfully

Here's an animated GIF to demonstrate the whole process:

![local_deployment](https://user-images.githubusercontent.com/7630809/134809755-6ebb4a9c-d455-4faf-87f5-96c0070a019e.gif)

For lack of space, no runtime upgrade (sudo removal / adding pallets) is demonstrated here, which could be done in the canonical way: https://substrate.dev/docs/en/tutorials/forkless-upgrade/sudo-upgrade
